import{a as m}from"./chunk-D7DTMR6R.js";import{b as d}from"./chunk-IAOLMLUB.js";import{e as n}from"./chunk-WKA5BKE6.js";import{P as l,Pb as u,U as a,ca as s,da as g,ha as i,sa as c}from"./chunk-SRAVIVSI.js";var f={production:!1,baseHref:"",languageKey:"LANGKEY"};var p=class t{translateService=a(d);document=a(s);platformId=a(c);destroyRef=a(g);static langKey=f.languageKey;langs=i([]);currentLang=i(this.getLang());constructor(){this.translateService.stream(["language.english","language.ukrainian"]).pipe(m(this.destroyRef)).subscribe(e=>{this.langs.set([{value:"en",viewValue:e["language.english"]},{value:"uk",viewValue:e["language.ukrainian"]}])}),u(()=>{let e=this.currentLang();this.translateService.setDefaultLang("en"),this.translateService.use(e),n(this.platformId)&&(this.document.documentElement.lang=e)})}setLang(e){n(this.platformId)&&localStorage.setItem(t.langKey,e),this.currentLang.set(e)}langInit(){this.currentLang.set(this.getLang())}getLang(){if(n(this.platformId)){let e=this.langs().map(({value:h})=>h),r=navigator.language.split("-")[0],v=e.includes(r),o=localStorage.getItem(t.langKey);return o||(v?r:"en")}else return"en"}clearLang(){n(this.platformId)&&localStorage.removeItem(t.langKey),this.currentLang.set("en")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})};export{p as a};
