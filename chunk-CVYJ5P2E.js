import"./chunk-GGQ7LRWG.js";import{c as nt,d as de,f as ue,g as le,h as pe}from"./chunk-WRWXI3SN.js";import{a as it,c as me,d as rt,e as ot,f as st,h as at,i as ct,j as dt,k as ut,l as lt,m as pt,n as J}from"./chunk-4T76W66J.js";import{a as x}from"./chunk-J4WHB5XP.js";import{a as Y}from"./chunk-D7DTMR6R.js";import{c as Q,d as q}from"./chunk-IAOLMLUB.js";import{a as X}from"./chunk-QQ3KMUUA.js";import{b as z,d as Z,e as Je,m as et,p as tt,q as G}from"./chunk-WKA5BKE6.js";import{$ as E,$a as ze,A as Me,Ba as Be,Eb as Ye,Fa as Ve,Fb as U,Gb as g,H as xe,Hb as b,I as Re,Ja as _,Jb as Qe,K as Se,Ka as P,La as ae,O as De,Oa as He,Ob as W,P as l,Pb as qe,Q as D,Qa as Ke,Ra as F,Rb as Xe,Sa as Ue,Sb as M,U as s,Xa as L,Xb as ce,Y as Ne,Yb as $,Za as We,_ as y,_a as $e,ba as k,bb as Ze,c as Te,ca as se,cb as Ge,da as N,db as m,eb as c,f as we,fb as u,gb as w,ha as O,kb as j,la as Pe,n as oe,o as Ae,oa as Fe,ob as f,qb as S,r as Ie,sa as Le,sb as B,tb as V,u as ke,ua as je,ub as H,wb as h,xb as A,y as Oe,yb as K,za as d}from"./chunk-SRAVIVSI.js";import{a as Ee,b as Ce}from"./chunk-7CGTOI24.js";function mt(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let n=t.shadowRoot.activeElement;if(n===t)break;t=n}return t}var he;try{he=typeof Intl<"u"&&Intl.v8BreakIterator}catch{he=!1}var R=(()=>{class t{_platformId=s(Le);isBrowser=this._platformId?Je(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||he)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ee=new WeakMap,ht=(()=>{class t{_appRef;_injector=s(k);_environmentInjector=s(Ne);load(e){let i=this._appRef=this._appRef||this._injector.get(L),r=ee.get(i);r||(r={loaders:new Set,refs:[]},ee.set(i,r),i.onDestroy(()=>{ee.get(i)?.refs.forEach(o=>o.destroy()),ee.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push($(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ft=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=_({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return t})();function fe(t){return Array.isArray(t)?t:[t]}var _t=new Set,I,Mt=(()=>{class t{_platform=s(R);_nonce=s(je,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rt}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&xt(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xt(t,n){if(!_t.has(t))try{I||(I=document.createElement("style"),n&&I.setAttribute("nonce",n),I.setAttribute("type","text/css"),document.head.appendChild(I)),I.sheet&&(I.sheet.insertRule(`@media ${t} {body{ }}`,0),_t.add(t))}catch(e){console.error(e)}}function Rt(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var bt=(()=>{class t{_mediaMatcher=s(Mt);_zone=s(F);_queries=new Map;_destroySubject=new we;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gt(fe(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=gt(fe(e)).map(a=>this._registerQuery(a).observable),o=Ae(r);return o=Ie(o.pipe(Me(1)),o.pipe(xe(1),Oe(0))),o.pipe(oe(a=>{let p={matches:!1,breakpoints:{}};return a.forEach(({matches:C,query:Ot})=>{p.matches=p.matches||C,p.breakpoints[Ot]=C}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),o={observable:new Te(a=>{let p=C=>this._zone.run(()=>a.next(C));return i.addListener(p),()=>{i.removeListener(p)}}).pipe(Re(i),oe(({matches:a})=>({query:e,matches:a})),Se(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function gt(t){return t.map(n=>n.split(",")).reduce((n,e)=>n.concat(e)).map(n=>n.trim())}var St=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=P({type:t});static \u0275inj=D({providers:[St]})}return t})();var Dt=(()=>{class t{_platform=s(R);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return Pt(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=Nt(Ut(e));if(i&&(yt(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=yt(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Ht(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return Kt(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Nt(t){try{return t.frameElement}catch{return null}}function Pt(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function Ft(t){let n=t.nodeName.toLowerCase();return n==="input"||n==="select"||n==="button"||n==="textarea"}function Lt(t){return Bt(t)&&t.type=="hidden"}function jt(t){return Vt(t)&&t.hasAttribute("href")}function Bt(t){return t.nodeName.toLowerCase()=="input"}function Vt(t){return t.nodeName.toLowerCase()=="a"}function Tt(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let n=t.getAttribute("tabindex");return!!(n&&!isNaN(parseInt(n,10)))}function yt(t){if(!Tt(t))return null;let n=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(n)?-1:n}function Ht(t){let n=t.nodeName.toLowerCase(),e=n==="input"&&t.type;return e==="text"||e==="password"||n==="select"||n==="textarea"}function Kt(t){return Lt(t)?!1:Ft(t)||jt(t)||t.hasAttribute("contenteditable")||Tt(t)}function Ut(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var ge=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(n){this._enabled=n,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_enabled=!0;constructor(n,e,i,r,o=!1,a){this._element=n,this._checker=e,this._ngZone=i,this._document=r,this._injector=a,o||this.attachAnchors()}destroy(){let n=this._startAnchor,e=this._endAnchor;n&&(n.removeEventListener("focus",this.startAnchorListener),n.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(n)))})}focusFirstTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(n)))})}focusLastTabbableElementWhenReady(n){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(n)))})}_getRegionBoundary(n){let e=this._element.querySelectorAll(`[cdk-focus-region-${n}], [cdkFocusRegion${n}], [cdk-focus-${n}]`);return n=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(n){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(n),!!i}return e.focus(n),!0}return this.focusFirstTabbableElement(n)}focusFirstTabbableElement(n){let e=this._getRegionBoundary("start");return e&&e.focus(n),!!e}focusLastTabbableElement(n){let e=this._getRegionBoundary("end");return e&&e.focus(n),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(n){if(this._checker.isFocusable(n)&&this._checker.isTabbable(n))return n;let e=n.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let n=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,n),n.classList.add("cdk-visually-hidden"),n.classList.add("cdk-focus-trap-anchor"),n.setAttribute("aria-hidden","true"),n}_toggleAnchorTabIndex(n,e){n?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(n){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(n,this._startAnchor),this._toggleAnchorTabIndex(n,this._endAnchor))}_executeOnStable(n){this._injector?Ue(n,{injector:this._injector}):setTimeout(n)}},wt=(()=>{class t{_checker=s(Dt);_ngZone=s(F);_document=s(se);_injector=s(k);constructor(){s(ht).load(ft)}create(e,i=!1){return new ge(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),be=(()=>{class t{_elementRef=s(Fe);_focusTrapFactory=s(wt);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){s(R).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=mt(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=ae({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",ce],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",ce]},exportAs:["cdkTrapFocus"],features:[Pe]})}return t})();var T=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(T||{}),Et="cdk-high-contrast-black-on-white",Ct="cdk-high-contrast-white-on-black",_e="cdk-high-contrast-active",At=(()=>{class t{_platform=s(R);_hasCheckedHighContrastMode;_document=s(se);_breakpointSubscription;constructor(){this._breakpointSubscription=s(bt).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return T.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return T.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return T.BLACK_ON_WHITE}return T.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(_e,Et,Ct),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===T.BLACK_ON_WHITE?e.add(_e,Et):i===T.WHITE_ON_BLACK&&e.add(_e,Ct)}}static \u0275fac=function(i){return new(i||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ve=(()=>{class t{constructor(){s(At)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||t)};static \u0275mod=P({type:t});static \u0275inj=D({imports:[vt]})}return t})();var It=nt("popupAnimation",[le("void",ue({opacity:0})),le("enter",ue({opacity:1})),pe("void => *",de("250ms ease-out")),pe("* => void",de("200ms ease-in"))]);var $t=["container"];function zt(t,n){}var te=class t{renderer=s(Be).createRenderer(null,null);destroyRef=s(N);container;childComponentType=M();childComponentInputs=M({});animationState=O("void");closed=new Ke;componentRef;touchStartX=0;touchEndX=0;POPUP_OPEN="lock";BACKDROP_CLASS="popup-backdrop";ngAfterViewInit(){let n=this.childComponentType();!n||!this.container||(this.componentRef=this.container.createComponent(n),Object.assign(this.componentRef.instance,Ce(Ee({},this.childComponentInputs()),{close:()=>this.close()})),this.renderer.addClass(document.body,this.POPUP_OPEN),this.destroyRef.onDestroy(()=>{this.renderer.removeClass(document.body,this.POPUP_OPEN),this.componentRef?.destroy()}),ke(document,"keydown").pipe(Y(this.destroyRef)).subscribe(e=>{e.key==="Escape"&&this.close()}),requestAnimationFrame(()=>{this.animationState.set("enter")}))}close(){this.animationState.set("void"),setTimeout(()=>this.closed.emit(),200)}onBackdropClick(n){n.target.classList.contains(this.BACKDROP_CLASS)&&this.close()}onTouchStart(n){this.touchStartX=n.changedTouches[0].screenX}onTouchEnd(n){this.touchEndX=n.changedTouches[0].screenX,this.touchStartX-this.touchEndX>70&&this.close()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["popup"]],viewQuery:function(e,i){if(e&1&&B($t,7,Ve),e&2){let r;V(r=H())&&(i.container=r.first)}},inputs:{childComponentType:[1,"childComponentType"],childComponentInputs:[1,"childComponentInputs"]},decls:9,vars:2,consts:[["container",""],["role","dialog","aria-modal","true","aria-labelledby","popup-title",1,"popup-backdrop",3,"click","touchstart","touchend"],["tabindex","-1","cdkTrapFocus","","cdkTrapFocusAutoCapture","",1,"popup"],[1,"popup__header"],["id","popup-title",1,"visually-hidden"],["aria-label","\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043F\u043E\u043F\u0430\u043F",1,"popup__close",3,"click"],["role","img","aria-hidden","true",3,"name"]],template:function(e,i){if(e&1){let r=j();c(0,"div",1),f("click",function(a){return y(r),E(i.onBackdropClick(a))})("touchstart",function(a){return y(r),E(i.onTouchStart(a))})("touchend",function(a){return y(r),E(i.onTouchEnd(a))}),c(1,"div",2)(2,"header",3)(3,"h2",4),h(4,"Popup"),u(),c(5,"button",5),f("click",function(){return y(r),E(i.close())}),w(6,"icon",6),u()(),He(7,zt,0,0,"ng-template",null,0,Qe),u()()}e&2&&(m("@popupAnimation",i.animationState()),d(6),m("name","close"))},dependencies:[x,ve,be],styles:[".popup-backdrop[_ngcontent-%COMP%]{position:fixed;z-index:1000;top:0;left:0;display:flex;justify-content:center;align-items:center;block-size:100%;inline-size:100%;background:#a4a1aa33;-webkit-backdrop-filter:blur(.375rem);backdrop-filter:blur(.375rem);opacity:0}.popup[_ngcontent-%COMP%]{position:relative;max-inline-size:calc(100% - var(--container-padding-x) * 2);max-block-size:calc(100% - var(--container-padding-x) * 2);padding:1.25rem;border-radius:.75rem;background-color:var(--color-light);overflow-y:auto}.popup__header[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-block-end:1rem}.popup__close[_ngcontent-%COMP%]{display:inline-flex;flex:0 0 auto;justify-content:center;align-items:center;block-size:2.5rem;inline-size:2.5rem;margin-inline-start:auto;padding:0;border:.0625rem solid currentcolor;border-radius:.25rem;transition:all var(--transition-duration) var(--transition-timing-function)}@media (any-hover: hover){.popup__close[_ngcontent-%COMP%]:hover{color:var(--color-light);background-color:var(--color-dark)}}.popup__close[_ngcontent-%COMP%]:focus-visible, .popup__close[_ngcontent-%COMP%]:active{color:var(--color-light);background-color:var(--color-dark)}"],data:{animation:[It]},changeDetection:0})};var ne=class t{appRef=s(L);injector=s(k);destroyRef=s(N);router=s(tt);baseZIndex=1e3;popups=O([]);popupCount=W(()=>this.popups().length);constructor(){this.router.events.pipe(Y(this.destroyRef)).subscribe(n=>{n instanceof et&&this.closeAll()})}open(n,e){let i=$(te,{environmentInjector:this.appRef.injector,elementInjector:this.injector}),r=i.hostView.rootNodes[0],o=this.baseZIndex+this.popups().length;r.style.zIndex=String(o),document.body.appendChild(r),i.setInput("childComponentType",n),i.setInput("childComponentInputs",e||{}),i.instance.closed.subscribe(()=>{this.close(i)}),this.appRef.attachView(i.hostView),this.popups.update(a=>[...a,i])}close(n){this.appRef.detachView(n.hostView),n.destroy(),this.popups.update(e=>e.filter(i=>i!==n))}closeAll(){for(let n of this.popups())this.appRef.detachView(n.hostView),n.destroy();this.popups.set([])}static \u0275fac=function(e){return new(e||t)};static \u0275prov=l({token:t,factory:t.\u0275fac,providedIn:"root"})};var Gt=["otpInput"];function Yt(t,n){if(t&1){let e=j();c(0,"input",3,0),f("input",function(r){let o=y(e).$index,a=S();return E(a.onInput(r,o))})("keydown",function(r){let o=y(e).$index,a=S();return E(a.onKeyDown(r,o))})("paste",function(r){y(e);let o=S();return E(o.onPaste(r))}),u()}if(t&2){let e=n.$index,i=S();m("ngClass",i.containerClasses)("value",i.otp()[e])}}var ie=class t{inputs;length=M(6);showError=M(!1);blur=Xe();otp=O([]);onChange=()=>{};onTouched=()=>{};get containerClasses(){return{"otp-input--error":this.showError()}}constructor(){qe(()=>{let n=this.length();this.otp.set(Array(n).fill(""))})}otpArray=W(()=>Array(this.length()));onInput(n,e){let i=n.target,r=i.value,o=[...this.otp()];/^\d$/.test(r)?(o[e]=r,this.otp.set(o),e<this.length()-1&&this.inputs.toArray()[e+1].nativeElement.focus()):(o[e]="",i.value="",this.otp.set(o)),this.emit()}onKeyDown(n,e){n.key==="Backspace"&&!this.otp()[e]&&e>0&&this.inputs.toArray()[e-1].nativeElement.focus()}handleBlur(){setTimeout(()=>{this.inputs.toArray().some(e=>e.nativeElement===document.activeElement)||(this.onTouched(),this.blur.emit())},0)}onPaste(n){n.preventDefault();let i=(n.clipboardData?.getData("text")?.trim()??"").replace(/\D/g,"").split("").slice(0,this.length());if(i.length===0)return;let r=Array(this.length()).fill("");i.forEach((p,C)=>{r[C]=p}),this.otp.set(r),this.inputs.forEach((p,C)=>{p.nativeElement.value=r[C]||""}),this.emit();let o=r.findIndex(p=>p===""),a=o===-1?this.length()-1:o;this.inputs.toArray()[a]?.nativeElement.focus()}writeValue(n){let e=Array(this.length()).fill("").map((i,r)=>n?.[r]??"");this.otp.set(e)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.inputs?.forEach(e=>e.nativeElement.disabled=n)}emit(){this.onChange(this.otp().join(""))}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["otp-input"]],viewQuery:function(e,i){if(e&1&&B(Gt,5),e&2){let r;V(r=H())&&(i.inputs=r)}},inputs:{length:[1,"length"],showError:[1,"showError"]},outputs:{blur:"blur"},features:[Ye([{provide:it,useExisting:De(()=>t),multi:!0}])],decls:3,vars:0,consts:[["otpInput",""],[1,"otp-container",3,"focusout"],["type","text","maxlength","1","autocomplete","one-time-code","inputmode","numeric",1,"otp-input",3,"ngClass","value"],["type","text","maxlength","1","autocomplete","one-time-code","inputmode","numeric",1,"otp-input",3,"input","keydown","paste","ngClass","value"]],template:function(e,i){e&1&&(c(0,"div",1),f("focusout",function(){return i.handleBlur()}),Ze(1,Yt,2,2,"input",2,ze),u()),e&2&&(d(),Ge(i.otpArray()))},dependencies:[Z,z,pt,J],styles:[".otp-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.otp-input[_ngcontent-%COMP%]{inline-size:clamp(2.125rem,2.125rem + (60 - 34) * (100vw - 20rem) / (1024 - 320),3.75rem);block-size:clamp(2.125rem,2.125rem + (60 - 34) * (100vw - 20rem) / (1024 - 320),3.75rem);font-size:clamp(1.25rem,1.25rem + (24 - 20) * (100vw - 20rem) / (1024 - 320),1.5rem);border:.0625rem solid var(--color-dark);border-radius:.625rem;outline:none;font-weight:700;text-align:center}@media (any-hover: hover){.otp-input[_ngcontent-%COMP%]:hover{border-color:var(--color-gray-alt)}}.otp-input[_ngcontent-%COMP%]:focus-visible, .otp-input[_ngcontent-%COMP%]:active{border-color:var(--color-gray-alt)}.otp-input--error[_ngcontent-%COMP%]{border-color:var(--error)}.otp-message[_ngcontent-%COMP%]{display:grid;gap:.25rem;inline-size:100%;font-size:.8125rem;line-height:1.1;color:var(--error)}"],changeDetection:0})};var qt=t=>[t],re=class t{STATIC_ROUTES=X;close;closePopup(){this.close?.()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["success"]],inputs:{close:"close"},decls:13,vars:12,consts:[[1,"success"],[1,"success__icon"],["name","done","role","img","aria-hidden","true",1,"success__svg"],[1,"success__title"],[1,"success__text"],[1,"success__btn","btn","btn__black",3,"click","routerLink"],[1,"btn__text"]],template:function(e,i){e&1&&(c(0,"div",0)(1,"div",1),w(2,"icon",2),u(),c(3,"h1",3),h(4),g(5,"translate"),u(),c(6,"p",4),h(7),g(8,"translate"),u(),c(9,"a",5),f("click",function(){return i.closePopup()}),c(10,"span",6),h(11),g(12,"translate"),u()()()),e&2&&(d(4),A(b(5,4,"form.otp.success.title")),d(3),A(b(8,6,"form.otp.success.text")),d(2),m("routerLink",U(10,qt,i.STATIC_ROUTES.USER.CH.LOGIN.RouterLink)),d(2),A(b(12,8,"form.otp.success.buttonText")))},dependencies:[q,G,x,Q],styles:[".success[_ngcontent-%COMP%]{width:100%;max-width:28.125rem;box-shadow:0 8px 8px -4px #10182805,0 10px 40px -4px #10182805}.success__icon[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;justify-content:center;align-items:center;margin-block-end:1rem;margin-inline:auto;border-radius:50%;background-image:radial-gradient(circle,#131118 0,#131118 42%,transparent 43%),radial-gradient(circle,rgba(19,17,24,.1) 0,rgba(19,17,24,.1) 57%,transparent 58%),radial-gradient(circle,#1311180d 0 100%);width:clamp(5.375rem,5.375rem + (108 - 86) * (100vw - 20rem) / (1024 - 320),6.75rem);height:clamp(5.375rem,5.375rem + (108 - 86) * (100vw - 20rem) / (1024 - 320),6.75rem)}.success__svg[_ngcontent-%COMP%]{color:var(--color-light);background-color:var(--color-dark)}.success__title[_ngcontent-%COMP%]{margin-bottom:.5rem;font-size:1.5rem;font-weight:700;text-align:center;text-wrap:balance}.success__text[_ngcontent-%COMP%]{margin-bottom:1.5rem;text-align:center;text-wrap:balance}.success__btn[_ngcontent-%COMP%]{width:100%}"],changeDetection:0})};var Xt=t=>[t];function Jt(t,n){t&1&&(c(0,"p",12),h(1),g(2,"translate"),u()),t&2&&(d(),K(" ",b(2,1,"form.otp.error")," "))}var kt=class t{formBuilder=s(lt);popup=s(ne);STATIC_ROUTES=X;loading=!1;otpPattern=/^\d{6}$/;isOtpTouched=!1;isFormSubmitted=!1;get containerClasses(){return{btn__disabled:this.form.invalid}}form=this.formBuilder.nonNullable.group({otp:new st("",[me.required,me.pattern(this.otpPattern)])});onOtpBlur(){this.isOtpTouched=!0}onSubmit(){this.isFormSubmitted=!0,this.popup.open(re),this.loading=!0,console.log("\u2705 Form submitted:",this.form.value)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-otp"]],hostAttrs:[1,"wrapper"],decls:24,vars:22,consts:[[1,"otp","user"],[1,"otp__container","user__container","container"],[1,"otp__bg","user__bg"],[1,"user__wrap"],[1,"user__back","text-decoration",3,"routerLink"],["name","arrow-back","role","img","aria-hidden","true"],[1,"otp__form","user__form",3,"ngSubmit","formGroup"],[1,"otp__text","user__text"],[1,"otp__title","user__title"],[1,"otp__subtitle","user__subtitle"],[1,"otp__wrap"],["formControlName","otp",3,"blur","length","pattern","showError"],[1,"otp__error"],["type","submit",1,"user__submit","btn","btn__black",3,"disabled","ngClass"],[1,"btn__text"]],template:function(e,i){if(e&1&&(c(0,"section",0)(1,"div",1),w(2,"div",2),c(3,"div",3)(4,"a",4),w(5,"icon",5),c(6,"span"),h(7),g(8,"translate"),u()(),c(9,"form",6),f("ngSubmit",function(){return i.onSubmit()}),c(10,"div",7)(11,"h1",8),h(12),g(13,"translate"),u(),c(14,"p",9),h(15),g(16,"translate"),u()(),c(17,"div",10)(18,"otp-input",11),f("blur",function(){return i.onOtpBlur()}),u(),We(19,Jt,3,3,"p",12),u(),c(20,"button",13)(21,"span",14),h(22),g(23,"translate"),u()()()()()()),e&2){let r,o;d(4),m("routerLink",U(20,Xt,i.STATIC_ROUTES.USER.CH.LOGIN.RouterLink)),d(3),A(b(8,12,"button.back")),d(2),m("formGroup",i.form),d(3),K(" ",b(13,14,"form.otp.title")," "),d(3),K(" ",b(16,16,"form.otp.text")," "),d(3),m("length",6)("pattern",i.otpPattern)("showError",(((r=i.form.get("otp"))==null?null:r.invalid)??!1)&&(i.isOtpTouched||i.isFormSubmitted)),d(),$e((o=i.form.get("otp"))!=null&&o.invalid&&(i.isOtpTouched||i.isFormSubmitted)?19:-1),d(),m("disabled",i.form.invalid)("ngClass",i.containerClasses),d(2),A(b(23,18,"button.send"))}},dependencies:[Z,z,J,at,rt,ot,ut,ct,dt,q,G,x,ie,Q],styles:[".otp__wrap[_ngcontent-%COMP%]{display:grid;gap:.5rem}.otp__error[_ngcontent-%COMP%]{display:grid;gap:.25rem;width:100%;font-size:.8125rem;line-height:1.1;color:var(--error)}",".user[_ngcontent-%COMP%]{block-size:100%}.user__container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;block-size:100%}@media (min-width: 64rem){.user__container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1.45fr 1fr}}.user__bg[_ngcontent-%COMP%]{display:none}@media (min-width: 64rem){.user__bg[_ngcontent-%COMP%]{display:block;block-size:100%;background-repeat:no-repeat;background-position:center;background-size:100% auto}.user__bg.login__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/login@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 2),(min-width: 64rem) and (min-resolution: 192dpi){.user__bg.login__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/login@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 3),(min-width: 64rem) and (min-resolution: 288dpi){.user__bg.login__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/login@1x.webp)}}@media (min-width: 64rem){.user__bg.register__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/create@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 2),(min-width: 64rem) and (min-resolution: 192dpi){.user__bg.register__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/create@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 3),(min-width: 64rem) and (min-resolution: 288dpi){.user__bg.register__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/create@1x.webp)}}@media (min-width: 64rem){.user__bg.forgot__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/forgot@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 2),(min-width: 64rem) and (min-resolution: 192dpi){.user__bg.forgot__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/forgot@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 3),(min-width: 64rem) and (min-resolution: 288dpi){.user__bg.forgot__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/forgot@1x.webp)}}@media (min-width: 64rem){.user__bg.otp__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/otp@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 2),(min-width: 64rem) and (min-resolution: 192dpi){.user__bg.otp__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/otp@1x.webp)}}@media (min-width: 64rem) and (-webkit-min-device-pixel-ratio: 3),(min-width: 64rem) and (min-resolution: 288dpi){.user__bg.otp__bg[_ngcontent-%COMP%]{background-image:url(/assets/images/auth/otp@1x.webp)}}.user__wrap[_ngcontent-%COMP%]{inline-size:100%;max-inline-size:37.5rem;padding-block:1.5rem}.user__back[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;margin-block-end:2rem}.user__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:clamp(1rem,1rem + (24 - 16) * (100vw - 20rem) / (1024 - 320),1.5rem)}.user__title[_ngcontent-%COMP%]{font-size:clamp(1.5rem,1.5rem + (30 - 24) * (100vw - 20rem) / (1024 - 320),1.875rem);margin-block-end:.25rem;text-align:center}.user__subtitle[_ngcontent-%COMP%]{font-size:clamp(1rem,1rem + (18 - 16) * (100vw - 20rem) / (1024 - 320),1.125rem);text-align:center;text-wrap:balance}.user__account[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;text-align:center}.user__submit[_ngcontent-%COMP%]{inline-size:100%}"],changeDetection:0})};export{kt as Otp};
