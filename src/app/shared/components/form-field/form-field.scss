@use "styles/mixins" as *;
@use "styles/functions" as *;

:host {
  width: 100%;
}

.field {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: rem(8);
  width: 100%;

  &__wrap {
    position: relative;
    width: 100%;
  }

  &__errors {
    display: grid;
    gap: rem(4);
    width: 100%;
    font-size: rem(13);
    line-height: 1.1;
    color: var(--error);
  }

  &__hint {
    width: 100%;
    font-size: rem(13);
    text-indent: rem(14);
  }
}

.label-field {
  position: relative;
  display: flex;
  align-items: center;
  width: 100%;
  transition: all var(--transition-duration) var(--transition-timing-function);

  @include fluid("height", 56, 42, 1024);

  &__title {
    position: absolute;
    top: 50%;
    left: rem(12);
    color: inherit;
    pointer-events: none;
    transition: all var(--transition-duration) var(--transition-timing-function);
    will-change: transform;
    transform: translateY(-50%) scale(1);
    transform-origin: left top;

    .label-field__error & {
      color: var(--error);
    }

    .label-field__success & {
      color: var(--success);
    }
  }

  &__input {
    width: 100%;
    height: 100%;
    padding: rem(12) rem(12) rem(6);
    border: rem(1) solid var(--color-dark);
    border-radius: rem(10);
    outline: none;
    line-height: 1;

    &:focus-visible,
    .label-field__active & {
      + .label-field__title {
        transform: translateY(-110%) scale(0.7);
      }
    }

    .label-field__success & {
      border-color: var(--success);
    }

    .label-field__error & {
      border-color: var(--error);
      color: var(--error);
    }

    .label-field__padding & {
      padding: rem(12) rem(50) rem(6) rem(12);
    }

    @include interactive {
      border-color: var(--color-gray);
    }
  }

  &__type {
    position: absolute;
    top: 50%;
    right: rem(8);
    display: inline-flex;
    padding: rem(4);
    border: rem(1) solid var(--color-dark);
    border-radius: rem(5);
    background: none;
    transform: translateY(-50%);

    @include interactive {
      border-color: var(--color-gray-alt);
      color: var(--color-gray-alt);
    }
  }
}
